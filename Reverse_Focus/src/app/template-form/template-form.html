<form tuiForm="m" [formGroup]="form" (ngSubmit)="methode()(form)">
    <header tuiHeader>
        <h2 tuiAppearance="title">{{formTitle()}}</h2>
    </header>
    @for (field of fields(); track field.name) {

    @if(field.type === 'textfield'){

    <tui-textfield>
        <label tuiLabel>{{field.label}}</label>
        <input [formControlName]="field.name" [placeholder]="field.placeholder ?? ''" tuiTextfield maxlength="30" />
        <tui-icon icon="@tui.step-forward" (click)="methode()(form)"></tui-icon>
    </tui-textfield>
    <tui-error [formControlName]="field.name" [error]="[] | tuiFieldError | async" />
    }@else if(field.type === 'icon-picker'){

    }@else if (field.type === 'inputWithIconPicker') {

    <div class="inputWithIconPicker">
        <div class="InputIcon">
            <tui-textfield>
                <label tuiLabel>{{field.label}}</label>
                <input [formControlName]="field.name" [placeholder]="field.placeholder ?? ''" tuiTextfield
                    maxlength="30" />
            </tui-textfield>
            <tui-error [formControlName]="field.name" [error]="[] | tuiFieldError | async" />
        </div>
        @for (subInput of field.subInputs; track subInput.name) {
        <app-icon-picker [formControlName]="subInput.name"></app-icon-picker>
        }
    </div>
    }
    }
</form>